apiVersion: operator.karmada.io/v1alpha1
kind: Karmada
metadata:
  name: karmada-${LOCATION}
spec:
  components:
    etcd:
      local:
        replicas: 3
    karmadaAPIServer:
      serviceType: ClusterIP
      certSANs:
        - keiretsu-karmada-${LOCATION}-apiserver.keiretsu.ts.net
        - external-karmada-${LOCATION}-apiserver.keiretsu.svc.cluster.local
---
apiVersion: v1
kind: Service
metadata:
  annotations:
    tailscale.com/tailnet-fqdn: keiretsu-karmada-robbinsdale-apiserver.keiretsu.ts.net
  name: external-karmada-robbinsdale-apiserver
spec:
  externalName: placeholder   # any value - will be overwritten by operator
  type: ExternalName
---
apiVersion: v1
kind: Service
metadata:
  annotations:
    tailscale.com/tailnet-fqdn: keiretsu-karmada-ottawa-apiserver.keiretsu.ts.net
  name: external-karmada-ottawa-apiserver
spec:
  externalName: placeholder   # any value - will be overwritten by operator
  type: ExternalName