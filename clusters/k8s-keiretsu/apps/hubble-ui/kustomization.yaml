apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

helmCharts:
  - name: hubble-ui
    repo: https://helm.isovalent.com
    version: 1.1.2
    namespace: kube-system
    releaseName: hubble-ui
    includeCRDs: true
    valuesFile: values.yaml
    apiVersions:
      - monitoring.coreos.com/v1
      - networking.k8s.io/v1

  - name: hubble-enterprise
    repo: https://helm.isovalent.com
    version: 1.12.14
    namespace: kube-system
    releaseName: hubble-enterprise
    includeCRDs: true
    valuesFile: hubble-enterprise-values.yaml

resources:
  - ./templates/dns-visibility.yaml