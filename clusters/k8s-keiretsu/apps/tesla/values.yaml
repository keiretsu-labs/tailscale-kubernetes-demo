image:
  tag: v0.3.1
service:
  # annotations:
  type: NodePort 
tlsSecret:
  name: fleet-telemetry-tesla-rajsingh-tls
config:
  data: |
    {
      "host": "0.0.0.0",
      "port": 8443,
      "status_port": 8080,
      "log_level": "info",
      "json_log_enable": true,
      "namespace": "tesla",
      "monitoring": {
        "prometheus_metrics_port": 9273,
        "profiler_port": 4269,
        "profiling_path": "/tmp/trace.out"
      },
      "rate_limit": {
        "enabled": true,
        "message_interval_time": 30,
        "message_limit": 1000
      },
      "kafka": { // librdkafka kafka config, seen here: https://raw.githubusercontent.com/confluentinc/librdkafka/master/CONFIGURATION.md
        "bootstrap.servers": "tesla-kafka-brokers.kafka.svc.cluster.local:9092",
        "queue.buffering.max.messages": 1000000
      },
      "records": {
        "alerts": [
          "logger"
        ],
        "errors": [
          "logger"
        ],
        "V": [
          "logger"
        ]
      },
      "tls": {
        "server_cert": "/etc/certs/server/tls.crt",
        "server_key": "/etc/certs/server/tls.key"
      }
    }