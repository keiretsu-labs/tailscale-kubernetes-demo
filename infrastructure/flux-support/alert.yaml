apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Alert
metadata:
  name: github-status
  namespace: flux-system
spec:
  # summary: "Cluster addons impacted in us-east-2"
  eventMetadata:
    app.kubernetes.io/cluster: ${CLUSTER_NAME}
  providerRef:
    name: github-status
  eventSources:
    - kind: Kustomization
      name: '*'
  # eventSeverity: error
---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Alert
metadata:
  name: discord-status
  namespace: flux-system
spec:
  summary: "Cluster Status"
  eventMetadata:
    app.kubernetes.io/cluster: ${CLUSTER_NAME}
  providerRef:
    name: discord
  eventSources:
    - kind: Kustomization
      name: '*'
    - kind: HelmRelease
      name: '*'
  # eventSeverity: error
  exclusionList:
    - ".*Dependencies do not meet ready condition.*"